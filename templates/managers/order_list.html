{% extends "base.html" %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">All Orders</h1>

<table class="w-full border">
  <tr class="bg-gray-100">
    <th class="p-2">Order</th>
    <th class="p-2">Customer</th>
    <th class="p-2">Total</th>
    <th class="p-2">Status</th>
    <th class="p-2">Update</th>
  </tr>

  {% for o in orders %}
  <tr>
    <td class="p-2">#{{ o.id }}</td>
    <td class="p-2">{{ o.user.email }}</td>
    <td class="p-2">â‚¹{{ o.total }}</td>
    <td class="p-2">{{ o.status }}</td>

    <td class="p-2">
      <form method="post" action="{% url 'managers:order-status' o.id %}">
        {% csrf_token %}
        <select name="status" class="border">
          <option value="Pending">Pending</option>
          <option value="Packed">Packed</option>
          <option value="Shipped">Shipped</option>
          <option value="Delivered">Delivered</option>
        </select>
        <button class="ml-2 text-blue-600 underline">Update</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>
{% endblock %}
